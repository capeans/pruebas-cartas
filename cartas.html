<!DOCTYPE html><html lang='es'><head><title>UzuTCG • Cartas</title><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'><link rel='icon' href='assets/img/favicon.svg' type='image/svg+xml'/><link rel='stylesheet' href='styles.css'><script src='bundle.js'></script></head><body><header class='header'><div class='container header-inner'><a class='brand' href='index.html'><img class='brand-logo' src='assets/img/logo.svg' alt='UzuTCG'><span class='brand-name'>UzuTCG</span></a><button class='menu-toggle' aria-label='Abrir menú' aria-controls='site-nav' aria-expanded='false'><span class='menu-bar'></span><span class='menu-bar'></span><span class='menu-bar'></span></button><nav id='site-nav' class='nav' aria-label='Navegación principal'><a href='cartas.html'>Cartas</a><a href='cajas.html'>Cajas</a><a href='conecta.html'>Conecta</a></nav></div></header><section class='section'><div class='container'><header class='section-head'><h2>Cartas</h2><p>Busca por nombre, categoría, idioma, rareza y precio. Pulsa <strong>Buscar</strong> para aplicar.</p></header><div class='market'><aside class='filters'><div class='row'><label>Nombre<input id='f-name' placeholder='Ej. Charizard, Luffy...'></label></div><div class='row'><label>Categoría<select id='f-cat'><option value=''>Todas</option><option>Pokémon</option><option>One Piece</option><option>Digimon</option><option>Dragon Ball</option><option>Naruto</option><option>Magic</option></select></label></div><div class='row'><label>Idioma<select id='f-lang'><option value=''>Todos</option><option>ES</option><option>EN</option><option>JP</option><option>PT</option><option>IT</option></select></label></div><div class='row'><label>Rareza<select id='f-rare'><option value=''>Todas</option><option>C</option><option>U</option><option>R</option><option>SR</option><option>UR</option></select></label></div><div class='row'><div>Precio ≤ <strong id='price-val'>150</strong>€</div><input type='range' id='f-price' min='0' max='1200' step='5' value='150'></div><div class='row'><label><input type='checkbox' id='f-instock' checked> Solo en stock</label></div><div class='row'><label><input type='checkbox' id='f-fav'> Favoritos</label></div><div class='actions'><button class='btn btn-outline' id='clear'>Limpiar</button><button class='btn btn-primary' id='search'>Buscar</button></div></aside><div class='results'><div class='toolbar'><div class='count' id='count'>0 resultados</div><div class='sort'><label>Ordenar<select id='sort'><option value='name-asc'>Nombre (A-Z)</option><option value='price-asc'>Precio (↑)</option><option value='price-desc'>Precio (↓)</option><option value='rarity-desc'>Rareza</option></select></label></div></div><div id='grid' class='grid'></div><div id='empty' class='empty' style='display:none'>No hay resultados con estos filtros.</div><div id='pager' class='pager'></div></div></div></div></section><footer class='footer'><div class='container footer-grid'><div><a class='brand' href='index.html'><img class='brand-logo' src='assets/img/logo.svg' alt='UzuTCG'><span class='brand-name'>UzuTCG</span></a><p class='muted'>© <span id='year'></span> UzuTCG. Todos los derechos reservados.</p></div><nav class='footer-nav' aria-label='Legal'><a href='#' onclick='alert("Aviso legal (demo)");return false;'>Aviso legal</a><a href='#' onclick='alert("Privacidad (demo)");return false;'>Privacidad</a><a href='#' onclick='alert("Cookies (demo)");return false;'>Cookies</a></nav></div></footer><div class='toast' style='display:none'></div><script>UZU.setupMobileNav(); UZU.year();</script><dialog id='modal' class='modal'><button class='btn-icon modal-close' aria-label='Cerrar'>✕</button><img id='modal-img' alt='Carta ampliada'></dialog><script id='data' type='application/json'>["assets/img/user_001.png", "assets/img/user_002.png", "assets/img/user_003.png", "assets/img/user_004.png", "assets/img/user_005.png", "assets/img/user_006.png", "assets/img/user_007.png", "assets/img/user_008.png", "assets/img/user_009.png", "assets/img/user_010.png", "assets/img/user_011.png", "assets/img/user_012.png", "assets/img/user_013.png", "assets/img/user_014.png", "assets/img/user_015.png", "assets/img/user_016.png", "assets/img/user_017.png", "assets/img/user_018.png", "assets/img/user_019.png", "assets/img/user_020.png", "assets/img/user_021.png", "assets/img/user_022.png", "assets/img/user_023.png", "assets/img/user_024.png", "assets/img/user_025.png", "assets/img/user_026.png", "assets/img/user_027.png", "assets/img/user_028.png", "assets/img/user_029.png", "assets/img/user_030.png", "assets/img/user_031.png", "assets/img/user_032.png", "assets/img/user_033.png", "assets/img/user_034.png", "assets/img/user_035.png", "assets/img/user_036.png", "assets/img/user_037.png", "assets/img/user_038.png", "assets/img/user_039.png", "assets/img/user_040.png", "assets/img/user_041.png", "assets/img/user_042.png", "assets/img/user_043.png", "assets/img/user_044.png", "assets/img/user_045.png", "assets/img/user_046.jpg", "assets/img/user_047.jpg", "assets/img/user_048.jpg", "assets/img/user_049.jpg", "assets/img/user_050.jpg", "assets/img/user_051.jpg", "assets/img/user_052.jpg", "assets/img/ph_053.svg", "assets/img/ph_054.svg", "assets/img/ph_055.svg", "assets/img/ph_056.svg", "assets/img/ph_057.svg", "assets/img/ph_058.svg", "assets/img/ph_059.svg", "assets/img/ph_060.svg", "assets/img/ph_061.svg", "assets/img/ph_062.svg", "assets/img/ph_063.svg", "assets/img/ph_064.svg", "assets/img/ph_065.svg", "assets/img/ph_066.svg", "assets/img/ph_067.svg", "assets/img/ph_068.svg", "assets/img/ph_069.svg", "assets/img/ph_070.svg", "assets/img/ph_071.svg", "assets/img/ph_072.svg"]</script><script>UZU.navActive('cartas.html');const IMGS=JSON.parse(document.querySelector('#data').textContent);const ALL=UZU.buildData(IMGS);const grid=document.querySelector('#grid'),count=document.querySelector('#count'),empty=document.querySelector('#empty'),pager=document.querySelector('#pager');const fName=document.querySelector('#f-name'),fCat=document.querySelector('#f-cat'),fLang=document.querySelector('#f-lang'),fRare=document.querySelector('#f-rare'),fPrice=document.querySelector('#f-price'),priceVal=document.querySelector('#price-val'),fStock=document.querySelector('#f-instock'),fFav=document.querySelector('#f-fav'),sortSel=document.querySelector('#sort');const clearBtn=document.querySelector('#clear'),searchBtn=document.querySelector('#search');const favs=UZU.loadFavs();function cardHTML(c){const isFav=favs.has(c.id);return `<article class='card' data-id='${c.id}'><div style='position:relative'><img class='thumb' src='${c.img}' alt='${c.name}' loading='lazy'><div class='stock ${c.stock?'':'out'}'>${c.stock?'Stock':'Sin stock'}</div></div><div class='wrap'><h3>${c.name}</h3><div class='badges'><span class='badge'>${c.category}</span><span class='badge'>Idioma: ${c.language}</span><span class='badge'>R: ${c.rarity}</span></div><div class='meta'>ID: ${c.id}</div><div class='price'>${c.price.toFixed(2)} €</div></div><div class='actions'><button class='btn btn-outline btn-fit' data-zoom>Ver grande</button><button class='btn btn-primary btn-fit' data-fav data-id='${c.id}'>${isFav?'★ Favorito':'❤ Favorito'}</button></div></article>`}let page=1,per=12;let lastList=ALL.slice();function filter(){let list=ALL.slice();const name=fName.value.trim().toLowerCase(),cat=fCat.value,lang=fLang.value,rare=fRare.value,max=Number(fPrice.value),inStock=fStock.checked,onlyFav=fFav.checked;if(name)list=list.filter(x=>x.name.toLowerCase().includes(name));if(cat)list=list.filter(x=>x.category===cat);if(lang)list=list.filter(x=>x.language===lang);if(rare)list=list.filter(x=>x.rarity===rare);list=list.filter(x=>x.price<=max);if(inStock)list=list.filter(x=>x.stock);if(onlyFav)list=list.filter(x=>favs.has(x.id));switch(sortSel.value){case'name-asc':list.sort((a,b)=>a.name.localeCompare(b.name));break;case'price-asc':list.sort((a,b)=>a.price-b.price);break;case'price-desc':list.sort((a,b)=>b.price-a.price);break;case'rarity-desc':list.sort((a,b)=>b.rarity.localeCompare(a.rarity));break;}lastList=list;page=1;render();}function render(){const pg=UZU.paginate(lastList,page,per);grid.innerHTML=pg.items.map(cardHTML).join('');count.textContent=`${pg.total} resultados`;empty.style.display=pg.total?'none':'block';UZU.renderPager(pager,pg,(p)=>{page=p;render();});}clearBtn.addEventListener('click',()=>{fName.value='';fCat.value='';fLang.value='';fRare.value='';fPrice.value=150;priceVal.textContent='150';fStock.checked=true;fFav.checked=false;sortSel.value='name-asc';filter();});searchBtn.addEventListener('click',filter);priceVal.textContent=fPrice.value;fPrice.addEventListener('input',()=>priceVal.textContent=fPrice.value);sortSel.addEventListener('change',filter);document.addEventListener('click',(e)=>{const favBtn=e.target.closest('[data-fav]');if(favBtn){const id=Number(favBtn.dataset.id);if(favs.has(id))favs.delete(id);else favs.add(id);UZU.saveFavs(favs);render();}const zoom=e.target.closest('[data-zoom]')||(e.target.matches('.thumb')&&e.target);if(zoom){const card=e.target.closest('.card');document.querySelector('#modal-img').src=card.querySelector('.thumb').src;const m=document.querySelector('.modal');if(m.showModal)m.showModal();}});document.querySelector('.modal-close').addEventListener('click',()=>document.querySelector('.modal').close());document.querySelector('.modal').addEventListener('click',e=>{if(e.target.tagName==='DIALOG')e.target.close();});filter();</script></body></html>