<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<title>Cajas - Uzutcg</title>
<link href="img/logo.png" rel="icon" type="image/png"/>
<link href="css/styles.css" rel="stylesheet"/>
<script defer="" src="js/script.js"></script>
</head>
<body class="body-footer-fijo" data-page="cajas">
<header>
<img alt="Uzutcg Logo" src="img/logo.png" style="height:40px;"/>
<nav>
<a href="index.html">Inicio</a>
<a href="cajas.html">Cajas</a>
<a href="cartas.html">Cartas</a>
<a href="nosotros.html">Nosotros</a>
<a href="contacto.html">Contacto</a>
<a href="tienda.html">Tienda</a></nav>
</header>

<main class="catalogo">
  <aside class="filtros">
    <label>Nombre
      <input id="filtro-nombre" type="text" placeholder="Ej. Charizard, Luffy..." />
    </label>

    <label>Categoría
      <select id="filtro-categoria">
        <option value="">Todas</option>
      </select>
    </label>

    <label>Idioma
      <select id="filtro-idioma">
        <option value="">Todos</option>
      </select>
    </label>

    <label>Rareza
      <select id="filtro-rareza">
        <option value="">Todas</option>
        <option value="R">R</option>
        <option value="SR">SR</option>
        <option value="UR">UR</option>
        <option value="SSR">SSR</option>
      </select>
    </label>

    <label>Precio ≤ <span id="precio-valor">150</span>€</label>
    <input id="filtro-precio" type="range" min="0" max="1000" value="150" />

    
    
    
    <div class="toggles">
      <button id="btn-favoritos" class="btn-toggle" aria-pressed="false">Ver favoritos</button>
      <button id="btn-stock" class="btn-toggle" data-mode="con">Ver con stock</button>
      <!-- Hidden checkboxes kept for compatibility -->
      <input id="solo-stock" type="checkbox" style="display:none" />
      <input id="solo-favoritos" type="checkbox" style="display:none" />
    </div>
    
    <div class="acciones-filtros">
      <button id="btn-limpiar" class="btn-secondary">Limpiar</button>
    
      <button id="btn-limpiar" class="btn-secondary">Limpiar</button>
      
    </div>
  </aside>

  <section class="resultados">
    <div class="cabecera-resultados">
      <div><span id="count">0</span> resultados</div>
      <label>Ordenar
        <select id="ordenar">
          <option value="name-asc">Nombre (A-Z)</option>
          <option value="name-desc">Nombre (Z-A)</option>
          <option value="price-asc">Precio (Menor→Mayor)</option>
          <option value="price-desc">Precio (Mayor→Menor)</option>
          <option value="stock-desc">Stock (Mayor→Menor)</option>
        </select>
      </label>
    </div>
    <div class="grid" id="grid-productos"></div>
  </section>
</main>

<footer>
    © 2025 Uzutcg - Todos los derechos reservados
  </footer>

<script src="js/api.js"></script>
<script src="js/auth.js"></script>
<script src="js/cart.js"></script>
<script>
  async function refreshCartCount() {
    try {
      const cart = await getCartDetail();
      const count = cart.reduce((sum, item) => sum + item.qty, 0);
      const el = document.getElementById('cart-count');
      if (el) el.textContent = count;
    } catch(e) {}
  }
  (async () => { await refreshCartCount(); })();
</script>

</body>
</html>
